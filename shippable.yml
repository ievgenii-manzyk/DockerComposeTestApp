language: java
jdk: oraclejdk8

services:
- postgres

branches:
  only:
  - master

before_script:
- chmod +x ./gradlew

build:
  cache: true
  cache_dir_list:
  - $HOME/.gradle/

  pre_ci_boot:
  - echo "PRE-CI"
  - echo $SHIPPABLE_BUILD_DIR

  ci:
  - echo "Starting CI"

  integrations:
    hub:
    - integrationName: DockerHub
      type: dockerRegistryLogin
